<!-- ─────────────── TOP BAR ─────────────── -->
<div class="h-[3.875rem] p-4 flex justify-between items-center main-bg bBorder">
  <div class="flex items-center gap-4">
    <!-- ☰ Sidebar toggle -->
    <button (click)="toggleSidebar()" class="text-white text-2xl">☰</button>

    <!-- 🔍 Search toggle -->
    <div
      (click)="toggleSearch()"
      class="w-[1.625rem] h-[1.625rem] cursor-pointer"
    >
      <img src="./images/searchW.png" alt="search icon" />
    </div>
  </div>

  <div class="w-10 h-10">
    <img class="rounded-full" src="./images/admin.png" alt="admin avatar" />
  </div>
</div>

<!-- ─────────────── SIDEBAR MODAL ─────────────── -->
@if (isSidebarOpen) {
<div
  class="fixed inset-0 z-[70] flex justify-center items-start bg-black/50 backdrop-blur-sm"
>
  <div
    class="relative bg-white rounded-xl shadow-lg p-4 mt-20 w-[21.4375rem] animate-fadeIn"
  >
    <button
      (click)="closeSidebar()"
      class="absolute top-3 right-3 text-gray-500 hover:text-black"
    >
      ✕
    </button>

    <div class="grid gap-8">
      <div class="grid gap-6">
        <!-- Logo -->
        <img
          src="./images/Final Logo 1.png"
          alt="elevate logo"
          class="w-[5.1875rem]"
        />

        <!-- Sidebar Buttons -->
        @for (link of [ { path: '/dashboard', text: 'Dashboard', icon:
        './images/Vector.png', active: './images/activeVector.png' }, { path:
        '/history', text: 'Quiz History', icon:
        './images/ic_twotone-history.png', active:
        './images/active_twotone-history.png' } ]; track link.path) {
        <app-sidebar-button
          class="w-2/3 mx-auto"
          [link]="link.path"
          [text]="link.text"
          (clicked)="closeSidebar()"
        >
          <img
            [src]="currentUrl.includes(link.path) ? link.active : link.icon"
            [alt]="link.text + ' icon'"
          />
        </app-sidebar-button>
        }
      </div>

      <!-- Logout -->
      <app-sidebar-button
        class="w-2/3 mx-auto"
        [action]="logOut"
        [text]="'Log Out'"
        (clicked)="logOut()"
      >
        <img src="./images/Vector (1).png" alt="log out icon" />
      </app-sidebar-button>
    </div>
  </div>
</div>
}

<!-- ─────────────── SEARCH MODAL ─────────────── -->
@if (isSearchOpen) {
<div
  class="fixed inset-0 z-[70] flex justify-center items-start bg-black/50 backdrop-blur-sm"
>
  <div
    class="relative bg-white rounded-xl shadow-lg p-6 mt-20 w-full max-w-2xl animate-fadeIn"
  >
    <button
      (click)="closeSearch()"
      class="absolute top-3 right-3 text-gray-500 hover:text-black"
    >
      ✕
    </button>

    <div class="flex flex-col gap-4">
      <div class="flex justify-between items-center">
        <div class="relative w-full">
          <input
            type="text"
            placeholder="Search Quiz"
            class="w-full ps-10 p-4 rounded-[1.25rem] border border-gray-300 text-[1.1rem]"
          />
          <img
            src="./images/search.png"
            alt="search"
            class="absolute top-4 left-4 w-[1.25rem] h-[1.25rem]"
          />
        </div>

        <button
          class="rounded-[1.25rem] py-2 px-4 main-bg text-white ms-2"
          (click)="closeSearch()"
        >
          Start
        </button>
      </div>
    </div>
  </div>
</div>
}
